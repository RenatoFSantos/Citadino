<ion-header>
    <ion-navbar color="ctd-navbar">
        <ctd-header></ctd-header>
    </ion-navbar>
</ion-header>

<ion-content>

    <ion-refresher (ionRefresh)="reloadVitrines($event)">
        <ion-refresher-content></ion-refresher-content>
    </ion-refresher>

    <div *ngIf="loading">
        <img src="assets/img/ring.gif" style="display:block; margin:auto" />
    </div>
    <ion-card class="ctd-card" *ngFor="let item of vitrines">
        <div *ngIf="item.tian_sq_id == 'TP-1'">
            <ion-item (click)="openPage(item.empr_sq_id)">
                <ion-avatar item-left>
                    <img src="{{item.anun_tx_urlavatar}}">
                </ion-avatar>
                <h2>{{item.anun_tx_titulo}}</h2>
                <p>{{item.anun_tx_subtitulo}}</p>
            </ion-item>
            <img src="{{item.anun_tx_urlbanner}}"/>
            <ion-buttons icon-only end>
                <ctd-buttons [urlSlide]=[(item.anun_tx_urlslide1)] [smartSite]=[(item.anun_in_smartsite)] [empresaKey]=[(item.empr_sq_id)] [vitrine]=[(item)]></ctd-buttons>
            </ion-buttons>
        </div>
        <div *ngIf="item.tian_sq_id == 'TP-2'">
            <ion-item (click)="openPage(item.empr_sq_id)">
                <ion-avatar item-left>
                    <img src="{{item.anun_tx_urlavatar}}">
                </ion-avatar>
                <h2>{{item.anun_tx_titulo}}</h2>
                <p>{{item.anun_tx_subtitulo}}</p>
            </ion-item>
            <img src="{{item.anun_tx_urlbanner}}" />
            <ion-buttons icon-only end>
                <ctd-buttons [urlSlide]=[(item.anun_tx_urlslide1)] [smartSite]=[(item.anun_in_smartsite)] [empresaKey]=[(item.empr_sq_id)]></ctd-buttons>
            </ion-buttons>
        </div>
        <div *ngIf="item.tian_sq_id == 'TP-3'">
            <ion-item (click)="openPage(item.empr_sq_id)">
                <ion-thumbnail item-left>
                    <img src="{{item.anun_tx_urlavatar}}">
                </ion-thumbnail>
                <h2>{{item.anun_tx_titulo}}</h2>
                <p>{{item.anun_tx_subtitulo}}</p>
            </ion-item>
            <ion-card-content class="ctd-faixa">
                {{item.anun_tx_texto}}
            </ion-card-content>
            <ion-buttons icon-only end>
                <ctd-buttons [urlSlide]=[(item.anun_tx_urlslide1)] [smartSite]=[(item.anun_in_smartsite)] [empresaKey]=[(item.empr_sq_id)]></ctd-buttons>
            </ion-buttons>
        </div>
        <div *ngIf="item.tian_sq_id == 'TP-4'">
            <ion-item (click)="openPage(item.empr_sq_id)">
                <ion-avatar item-left>
                    <img src="{{item.anun_tx_urlicone}}">
                </ion-avatar>
                <h2>{{item.anun_tx_titulo}}</h2>
                <p>{{item.anun_tx_subtitulo}}</p>
            </ion-item>
            <ion-card-content>
                {{item.anun_tx_texto}}
            </ion-card-content>
            <ion-buttons icon-only end>
                <ctd-buttons [urlSlide]=[(item.anun_tx_urlslide1)] [smartSite]=[(item.anun_in_smartsite)] [empresaKey]=[(item.empr_sq_id)]></ctd-buttons>
            </ion-buttons>
        </div>
        <div *ngIf="item.tian_sq_id == 'TP-5'">
            <ion-item (click)="openPage(item.empr_sq_id)">
                <ion-avatar item-left>
                    <img src="{{item.anun_tx_urlicone}}">
                </ion-avatar>
                <h2>{{item.anun_tx_titulo}}</h2>
                <p>{{item.anun_tx_subtitulo}}</p>
            </ion-item>
            <ion-buttons icon-only end>
                <ctd-buttons [urlSlide]=[(item.anun_tx_urlslide1)] [smartSite]=[(item.anun_in_smartsite)] [empresaKey]=[(item.empr_sq_id)]></ctd-buttons>
            </ion-buttons>
        </div>
    </ion-card>

    <ion-infinite-scroll (ionInfinite)="doInfinite($event)" limit="20%">
        <ion-infinite-scroll-content loadingSpinner="bubbles" loadingText="Aguarde...">
        </ion-infinite-scroll-content>
    </ion-infinite-scroll>
</ion-content>